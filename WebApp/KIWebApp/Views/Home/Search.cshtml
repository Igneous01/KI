@model KIWebApp.Models.SearchResultsModel

@{
    ViewBag.Title = "Search";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Search</h2>

<div id="main-content">
    <p class="error" data-bind="text: error"></p>
    <div class="container">
        <h3>Search Results for Players</h3>
        <table id="players-table" class="table table-bordered">
            <thead>
                <tr>
                    <th>Player Name</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in @Model.PlayerResults)
                {
                    <tr class="clickable-row">
                        <td><div class="UCID" style="display:none;">@item.UCID</div><b>@item.Name</b></td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <div class="container">
        <h3>Search Results for Servers</h3>
        <table id="servers-table" class="table table-bordered">
            <thead>
                <tr>
                    <th>Server Name</th>
                    <th>IP Address</th>
                    <th>Status</th>
                    <th>Restarts In</th>
                    <th>Online Players</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in @Model.ServerResults)
                {
                    string imgurl = "~/" + item.StatusImage;

                    <tr class="clickable-row">
                        <td><div class="ServerID" style="display:none;">@item.ServerID</div><b>@item.ServerName</b></td>
                        <td>@item.IPAddress</td>
                        <td><img src="@Url.Content(imgurl)" width="16" height="16" /> @item.Status</td>
                        <td>@item.RestartTime</td>
                        <td>@item.OnlinePlayers</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

@section scripts {
    @Scripts.Render("~/bundles/knockout")
    @Scripts.Render("~/bundles/dynatable")
}